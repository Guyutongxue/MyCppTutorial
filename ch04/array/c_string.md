# C 风格字符串

我们一直在输出中使用一种语法：
```cpp
cout << "Hello, world!" << endl;
```
这里面，我一直没有讲“双引号引起的东西”到底是什么。这一节的内容将解释它的本质。

## 字符数组

首先从字符数组说起。字符数组，指的就是由若干个字符类型变量构成的数组。即：
```cpp
char a[5]{};
```
中，`a` 就是一个字符数组。嗯，字符数组就是个数组，这没什么特殊的。比如
```CPP
#include <iostream>
using namespace std;
int main() {
    char a[]{'H', 'e', 'l', 'l', 'o'}; // 这里省略了大小 5
    for (int i{0}; i < 5; i++) {
        cout << a[i] << " ";
    }
}
```
就带空格地输出了 `a` 这个数组中的元素：
```io
H e l l o 
```
现在来看这样神奇的代码：
```CPP
#include <iostream>
using namespace std;
int main() {
    char a[]{"Hello"}; // 看这里
    for (int i{0}; i < 5; i++) {
        cout << a[i] << " ";
    }
}
```
这里的初始化器里面放上了“双引号引起的一句话”——有点奇怪，但是这样的代码是没问题的。它的运行结果和之前也一样：
```io
H e l l o 
```
聪明的你一定能大概猜到这种初始化方法做了什么——用引号引起的字符逐一初始化字符数组内的元素——但真的如此吗？
```CPP
#include <iostream>
using namespace std;
int main() {
    char a[]{"Hello"};
    cout << sizeof(a) << endl;
}
```
你会发现这段代码输出的是 `6`，而不是 `5`。也就是说 `{"Hello"}` 这个初始化器初始化了 6 个元素（因为一个 `char` 占 1 字节，`sizeof(a)` 为 6 说明有 6 个 `char`）。明明引号里只有五个字符，为什么会有六个初始化值呢？

答案在于 `"Hello"` 确实包含六个字符。读者会说，你这是不识数啊。嗯——我们先来看看到底是哪 6 个字符：

| **元素** | `a[0]` | `a[1]` | `a[2]` | `a[3]` | `a[4]` | `a[5]` |
| -------- | ------ | ------ | ------ | ------ | ------ | ------ |
| **值**   | `'H'`  | `'e'`  | `'l'`  | `'l'`  | `'o'`  | `'\0'` |
