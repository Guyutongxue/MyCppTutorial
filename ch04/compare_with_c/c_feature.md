# C 语言独有特性

## 独有特性

- 从 `void*` 到其它指针类型的隐式转换
- 从 `int` 到枚举类型的隐式转换
- 无初始化器的只读变量
- 跨越声明语句的 goto 语句
- 旧式（K&R 风格）函数定义

### C99 起

- 可变长数组
- 柔性数组
- `restrict` 关键字
- 额外数组形参语法
- 复合字面量
- 指派初始化器
- 在函数声明中定义结构体
- `_Generic` 泛型选择
- `_Atomic` 原子类型（C++ 中 `std::atomic`）
- 原生复数运算支持（C++ 中 `std::complex`）

## 不同特性

- 无参函数需显式指明 `void` （C++ 中不需要）
- 字符字面量为 `int` 类型（C++ 中 `char`）
- 字符串字面量为 `char[N]` 类型（C++ 中 `const char[N]`）
- 循环或分支的条件只能为表达式（C++ 中允许声明）
- 循环或分支的条件均隐式转换为 `int` （C++ 中为 `bool`）
- 结构体详述类型说明符必须给出（C++ 中可省略）
- 结构体不引入作用域（C++ 中引入）
- 关键字 `inline` 含义为优先内联（C++ 中为容许重复定义）
- 全局作用域只读变量拥有外部链接（C++ 中拥有内部链接）
- `_Noreturn`（C++ 中 `[[noreturn]]`）
- 布尔类型类型说明符为 `_Bool`（C++ 中 `bool`）
- 对齐相关关键字 `_Alignas` `_Alignof`（C++ 中 `alignas` `alignof`）
- 静态断言 `_Static_assert`（C++ 中 `static_assert`）
- 线程存储期 `_Thread_local`（C++ 中 `thread_local`）

### C99 前

- 无单行注释（现有）
- 隐式函数声明（现被弃用）
- 全局 `int` 类型说明符可省略（现必需）
- main 函数中 `return 0;` 必需（现可选）
- for 循环初始语句只能为表达式（现允许声明）
- 复合语句中声明必须出现在开头（现允许任意位置）