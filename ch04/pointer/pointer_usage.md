# 指针的简单使用

这一节，我们从有关指针的三个运算符来讲解指针在使用方面的细节。

## 取地址运算

首先来看取地址运算。我们已经知道，对一个变量取地址，可以获得这个变量的地址：
```cpp
int a;
&a;  // 得到了 a 的地址
```
然而除了变量，其实还有一些东西可以是取地址运算符 `&` 的操作数。比如赋值表达式：
```cpp
int a;
&(a = 42);
```
比如前缀自增表达式：
```cpp
int a;
&++a;
```

<h6 id="idx_值类别"></h6>

那么这是什么道理呢？我们来介绍一个概念：表达式的值类别（Value category）。

<h6 id="idx_左值"></h6>
<h6 id="idx_右值"></h6>

表达式的值类别决定了这个表达式能否取到一个地址。其中，那些能够取到地址的表达式称为**左值（lvalue）**，而那些无法取到地址的表达式称为**右值（rvalue）**。所以，只要一个表达式是左值，那么它就可以作为取地址运算符 `&` 的操作数。

那么都有哪些表达式是左值呢？很显然，变量属于左值（因为变量可以取到地址，前几节中一直是这样用的）。至于其它的表达式，那些**运算结果可以确定到一个变量**的表达式都是左值。比如：
- 简单赋值表达式：`a = 1`。
- 复合赋值表达式：`a += 1`。
- 前缀自增/减表达式：`++a` `--a`。
- 解地址表达式：`*a`。
- 下标表达式 `a[i]`（大部分情形）。
- 逗号表达式 `a, b`，要求 `b` 是左值。
- 条件表达式 `a ? b : c`，要求 `b` 和 `c` 都是左值。
- ……

你会发现，这些表达式的结果都是一个变量，而不是一个孤零零的运算结果。什么叫“孤零零的”结果呢？比如：
- 非字符串的字面量：`42` `'A'` `3.14`。这些字面量不能被取地址。
- 各种算术表达式、逻辑表达式、比较表达式 `a + b` `a && b` `a > b`。仅仅一个表达式的结果不会关联到任何一个变量。
- 后缀自增/减表达式 `a++` `a--` 。因为它们的结果和运算完成后变量的值是不相等的；运算结果并不能指代那个变量。
- 取地址表达式 `&a`。取到的地址没有存放在任何一个变量里，所以它仅仅是一个运算结果。
- ……

像这种，表达式运算结果和变量毫无关系的，称为右值。

通过上面的讨论，我们知道了什么样的表达式能够取地址，什么样的不能：
```cpp
int a;
&a;          // OK
&(a = 1);    // OK, a = 1 是左值
&(&a);       // 错误，&a 是右值
&(a + 1);    // 错误，a + 1 是右值
&42;         // 错误，非字符串字面量是右值
int array[4]{};
&(array[0]); // OK, 下标表达式是左值
```

而且一般地，左值表达式大多能被赋值（数组除外），即出现在赋值运算符的左侧。

## 解地址运算



## 算术运算

