# C++ 风格类型转换

在进行之后的讲解之前，容我现在此处插入一些“题外的”内容。我们之前已经了解了 [C 风格类型转换](ch02/part2/other_operator#类型转换运算符)，而现在我们要讲的是 C++ 风格类型转换。

所谓“C 风格”、“C++ 风格”，从字面意思上就能看出，这只是一种代码风格上的区别。它们除了写法之外，做的事情都是一样的：转换一个操作数的类型。那么，回顾一下之前 C 风格的类型转换，它长成这样：

```sdsc
(*类型标识*)*操作数*
*类型标识*(*操作数*)
```

而 C++ 风格不太一样，它长成这样：

```sdsc
*xxx*_cast&lt;*类型标识*&gt;(*操作数*)
```

（其中 `@*xxx*@` 的意思后面会展开。）举一些例子：
```cpp
int a{42};
float x{1.0f}, y{2.0f};
// 以下三个是 C 风格转型：
(double)a;
int(x + y);
float(5 / 3);
// 对应的 C++ 风格转型长成这样：
static_cast<double>(a);
static_cast<int>(x + y);
static_cast<float>(5 / 3);
```

在上面的例子中，C++ 风格转型都长成 `@static_cast<*类型标识*>(*操作数*)@` 这个样子（不得不说，比 C 风格要多打不少字）。但并不是说所有的 C++ 风格转型都是 `static_cast` 啥啥啥的；实际上，C++ 风格转型按照转换操作的危险程度分成四种，下面将一一介绍。

## `static_cast`

`static_cast` 是最安全的一种转换。好巧不巧，刚才的三个例子在改写成 C++ 风格转型后全都是 `static_cast`。这并不是偶然，这其实是由 `static_cast` 的定义导致的。