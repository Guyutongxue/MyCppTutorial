# 预置比较

我们知道，一个结构体在某些情况会自动生成一些成员函数，包括：
- 预置默认构造函数
- 预置复制构造函数
- 预置析构函数
- 预置复制赋值重载

C++20 引入了新的预置函数——预置比较运算符。自定义的类类型对象是无法比较的；等于和不等于运算符都无法使用：

```cpp
struct Coord {
    int x, y;
};
int main() {
    Coord a{1, 2};
    Coord b{1, 3};
    a == b; // 编译错误：operator== 未定义
}
```

但通过显式地指明使用预置比较运算符，就可以添加全部六个（或七个）比较运算符：

```cpp
#include <compare> // 使用预置比较必须引入
struct Coord {
    int x, y;
    // 通过 =default 指明使用预置比较
    auto operator<=>(const Coord&) const = default;
};
int main() {
    Coord a{1, 2};
    Coord b{1, 3};
    a == b; // false
    a < b;  // true
    b >= a; // true
    b != a; // true
}
```

停停停，太多新鲜事物了。最奇怪的就是这个 `operator<=>`，它是什么意思呢？这个东西叫做三路比较运算符（Three-way compare operator），俗称飞船运算符（Spaceship operator）。

## 三路比较运算符

| 运算符 | 名称           | 作用                           |
| ------ | -------------- | ------------------------------ |
| `<=>`  | 三路比较运算符 | 用以快速生成其它六种比较运算符 |

三路比较运算符是用来比较的。它与其它六个比较运算符的最大不同就是这个“三路”。原先六个运算符可以称为“两路比较”，因为它们运算的结果只有两种可能：`true` 或 `false`。而 `<=>` 是三路的，意味着它的运算结果有三种可能——具体来说，这三种结果分别是 `greater` `equal` 和 `less`。
